document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".registerBtn"),n=document.getElementById("registrationModal"),o=document.getElementById("closeModalBtn"),t=document.querySelector(".homeModalOverlay"),a=document.getElementById("registrationForm"),d=document.getElementById("phone"),c=document.getElementById("phoneError"),l=document.getElementById("submitBtn"),i=document.getElementById("selectedCountry"),r=document.getElementById("selectedCountryCode"),m=document.getElementById("countryDropdown"),p=document.getElementById("dropdownIcon"),s=document.getElementById("timer");function g(e){return e.reduce(((e,n)=>e+n),0)+Math.max(e.length-1,0)}const h=[{name:"Uzbekistan",code:"+998"},{name:"Tajikistan",code:"+992"},{name:"Qirg'iziston",code:"+996"},{name:"Qozog'iston",code:"+7"},{name:"Turkmaniston",code:"+993"},{name:"AQSH",code:"+1"},{name:"Janubiy Koreya",code:"+82"},{name:"Turkiya",code:"+90"},{name:"Rossiya",code:"+7"},{name:"United Kingdom",code:"+44"},{name:"Ireland",code:"+353"},{name:"France",code:"+33"},{name:"Germany",code:"+49"},{name:"Italy",code:"+39"},{name:"Spain",code:"+34"},{name:"Portugal",code:"+351"},{name:"Netherlands",code:"+31"},{name:"Belgium",code:"+32"},{name:"Luxembourg",code:"+352"},{name:"Switzerland",code:"+41"},{name:"Austria",code:"+43"},{name:"Polsha",code:"+48"},{name:"Czechia",code:"+420"},{name:"Slovakia",code:"+421"},{name:"Hungary",code:"+36"},{name:"Slovenia",code:"+386"},{name:"Croatia",code:"+385"},{name:"Bosnia & Herzegovina",code:"+387"},{name:"Serbia",code:"+381"},{name:"Montenegro",code:"+382"},{name:"North Macedonia",code:"+389"},{name:"Albania",code:"+355"},{name:"Greece",code:"+30"},{name:"Bulgaria",code:"+359"},{name:"Romania",code:"+40"},{name:"Moldova",code:"+373"},{name:"Ukraine",code:"+380"},{name:"Belarus",code:"+375"},{name:"Lithuania",code:"+370"},{name:"Latvia",code:"+371"},{name:"Estonia",code:"+372"},{name:"Norway",code:"+47"},{name:"Sweden",code:"+46"},{name:"Denmark",code:"+45"},{name:"Finland",code:"+358"},{name:"Iceland",code:"+354"},{name:"Malta",code:"+356"},{name:"Cyprus",code:"+357"},{name:"Monaco",code:"+377"},{name:"Andorra",code:"+376"},{name:"Liechtenstein",code:"+423"},{name:"Kosovo",code:"+383"},{name:"Georgia",code:"+995"},{name:"Azerbaijan",code:"+994"},{name:"Armenia",code:"+374"}],u={"+44":{ph:"7400 123 456",g:[4,3,3]},"+353":{ph:"83 123 4567",g:[2,3,4]},"+33":{ph:"6 12 34 56 78",g:[1,2,2,2,2]},"+49":{ph:"1512 3456789",g:[4,7]},"+39":{ph:"312 345 6789",g:[3,3,4]},"+34":{ph:"612 34 56 78",g:[3,2,2,2]},"+351":{ph:"912 345 678",g:[3,3,3]},"+31":{ph:"6xx 123 4567",g:[3,3,4]},"+32":{ph:"4xx 12 34 56",g:[3,2,2,2]},"+352":{ph:"621 234 567",g:[3,3,3]},"+41":{ph:"79 123 45 67",g:[2,3,2,2]},"+43":{ph:"650 123 4567",g:[3,3,4]},"+48":{ph:"123 456 789",g:[3,3,3]},"+420":{ph:"123 456 789",g:[3,3,3]},"+421":{ph:"912 345 678",g:[3,3,3]},"+36":{ph:"30 123 4567",g:[2,3,4]},"+386":{ph:"31 234 567",g:[2,3,3]},"+385":{ph:"91 234 5678",g:[2,3,4]},"+387":{ph:"61 234 567",g:[2,3,3]},"+381":{ph:"60 123 4567",g:[2,3,4]},"+382":{ph:"67 123 456",g:[2,3,3]},"+389":{ph:"70 123 456",g:[2,3,3]},"+355":{ph:"68 123 4567",g:[2,3,4]},"+30":{ph:"691 234 5678",g:[3,3,4]},"+359":{ph:"87 123 4567",g:[2,3,4]},"+40":{ph:"712 345 678",g:[3,3,3]},"+373":{ph:"621 234 567",g:[3,3,3]},"+380":{ph:"67 123 4567",g:[2,3,4]},"+375":{ph:"29 123 45 67",g:[2,3,2,2]},"+370":{ph:"612 34567",g:[3,5]},"+371":{ph:"21 234 567",g:[2,3,3]},"+372":{ph:"5123 4567",g:[4,4]},"+47":{ph:"412 34 567",g:[3,2,3]},"+46":{ph:"7xx 123 456",g:[3,3,3]},"+45":{ph:"12 34 56 78",g:[2,2,2,2]},"+358":{ph:"40 123 4567",g:[2,3,4]},"+354":{ph:"611 2345",g:[3,4]},"+356":{ph:"9912 3456",g:[4,4]},"+357":{ph:"96 123 456",g:[2,3,3]},"+377":{ph:"6 12 34 56 78",g:[1,2,2,2,2]},"+376":{ph:"612 345",g:[3,3]},"+423":{ph:"79 123 45 67",g:[2,3,2,2]},"+383":{ph:"43 123 456",g:[2,3,3]},"+995":{ph:"555 12 34 56",g:[3,2,2,2]},"+994":{ph:"50 123 45 67",g:[2,3,2,2]},"+374":{ph:"91 234 567",g:[2,3,3]},"+7":{ph:"900 123 4567",g:[3,3,4]},"+998":{ph:"88 888 88 88",g:[2,3,2,2]},"+992":{ph:"55 555 5555",g:[2,3,4]},"+996":{ph:"555 123 456",g:[3,3,3]},"+993":{ph:"6 123 4567",g:[1,3,4]},"+1":{ph:"555 123 4567",g:[3,3,4]},"+82":{ph:"10 1234 5678",g:[2,4,4]},"+90":{ph:"5xx 123 45 67",g:[3,3,2,2]}};function y(e){const n=u[e]||u["+998"];return{placeholder:n.ph,format:e=>function(e,n){let o=[],t=0;for(let a of n){if(t>=e.length)break;o.push(e.slice(t,t+a)),t+=a}return o.join(" ")}(e,n.g),validate:(o=n.g,new RegExp("^"+o.map((e=>`\\d{${e}}`)).join("\\s")+"$")),maxLen:g(n.g)};var o}let v="+998";function L(){if(!n)return;n.style.display="block",document.body.style.overflowY="hidden";const e=y(v);d.placeholder=e.placeholder,d.maxLength=e.maxLen,d.value="",c.style.display="none"}function E(){n&&(n.style.display="none",document.body.style.overflowY="scroll")}e.forEach((e=>e.addEventListener("click",L))),o&&o.addEventListener("click",E),t&&t.addEventListener("click",E),i.addEventListener("click",(()=>{"block"===m.style.display?(m.style.display="none",p.innerHTML='<polyline points="6 9 12 15 18 9"></polyline>'):(m.innerHTML="",h.forEach((e=>{const n=document.createElement("div");n.className="country-option",e.code===v&&n.classList.add("selected"),n.innerHTML=`\n          <span class="country-name">${e.name}</span>\n          <span class="country-code">${e.code}</span>\n        `,n.addEventListener("click",(()=>{v=e.code,r.textContent=e.code,m.style.display="none";const n=y(v);d.placeholder=n.placeholder,d.maxLength=n.maxLen,d.value="",c.style.display="none",p.innerHTML='<polyline points="6 9 12 15 18 9"></polyline>'})),m.appendChild(n)})),m.style.display="block",p.innerHTML='<polyline points="18 15 12 9 6 15"></polyline>')})),document.addEventListener("click",(e=>{i.contains(e.target)||m.contains(e.target)||(m.style.display="none",p.innerHTML='<polyline points="6 9 12 15 18 9"></polyline>')})),d.addEventListener("input",(e=>{const n=e.target.value.replace(/\D/g,""),o=y(v).format(n);d.value=o,c.style.display="none"})),a.addEventListener("submit",(e=>{e.preventDefault();const n=y(v),o=d.value.trim();if(!n.validate.test(o))return void(c.style.display="block");c.style.display="none",l.textContent="YUBORILMOQDA...",l.disabled=!0;const t=new Date,a=t.toLocaleDateString("uz-UZ"),i=t.toLocaleTimeString("uz-UZ"),r={TelefonRaqam:v+" "+o,SanaSoat:a+" - "+i};localStorage.setItem("formData",JSON.stringify(r)),window.location.href="/thankYou.html",l.textContent="DAVOM ETISH",l.disabled=!1,d.value="",E()}));let f=120;if(s){const e=setInterval((()=>{if(f<=0)return void clearInterval(e);f--;const n=Math.floor(f/60),o=f%60,t=n.toString().padStart(1,"0")+":"+o.toString().padStart(2,"0");s.textContent=t}),1e3)}r.textContent=v;const x=y(v);d.placeholder=x.placeholder,d.maxLength=x.maxLen}));